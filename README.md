# Malware Analysis Project

In this project I will analyse a malware sample/binary and extract as much information as possible from it. A malware is an executable or a binary that is malicious in nature. I.E. Spying, data Exfiltration or data encryption and destruction.
## Malware Lab
### Self-hosted
Hypervisor (Virtual box. VMware or HyperV) Note the VM must be properly configured disabled firewall and real time protection with no shared folders enabled and GPO and on an isolated VLAN (host-only).  
### Cloud hosted
Browser-based access to dock workspace (ie Kasm or Citrix DaaS)
### Tools
CyberChef
File URL IP Reputation sites 
### Objectives of the project:
1.	To understand the type of malware (functionality).
2.	How the system was infected with the malware.
3.	How it communicates with the attacker (C2C).
4.	To get useful indicators (IOCs) that can be used to detect future detection.
### Types Of Malware Analysis 
1.	Static analysis - Is the process of analysing malware (metadata) without executing or running it. Example; strings, PE headers.
2.	Dynamic analysis - Is the process of executing malware and analysing it’s functionality and behaviour. (debugger)
3.	Code Analysis - Is the process of analysing/reverse engineering assembly code. Either by static and dynamic code analysis
4.	Behavioural analysis - Is the process of analysing and monitoring the malware after execution ie registry entries and network monitoring
### Malicious Lab creation 
Launch Ubuntu or Windows in Kasm. Download the CyberChef HTML file on to the desktop. Unzip the encrypted malicious file. Tip use the uppercase X option to extract the password protected malware as an hexadecimal dump to copy in to CyberChef.

### Static analysis workflow 
1.	Identify the file type - Target OS, architecture and the file signature in the file header ie dll, exe
2.	Identify the malware - Generating a hash of the malware to see if anyone else has analysed the malware.
a.	Types of hashing algorithms are MD5 SHA-1 and SHA-256
3.	PE headers - The PE header reveals the information the OS requires to run the executable (malware functionality)
a.	The PE header begins at hex 50 45
b.	PE files are represented by hexadecimal values of 4D 5A or MZ in the first 2 bytes (0-1).
c.	PE programs also have the notice “This program cannot be run in DOS mode”
4.	Strings - Strings gives us an idea/glimpse of what the malware can do.
a.	Attackers will use packers to obfuscate the content of the malware to make it difficult to analyse strings.
5.	Unpack & de-obfuscate - Obfuscation & packing are techniques used to prevent detection
### Dynamic analysis workflow
If file is not classified as confidential and if the hash has not been flagged as malicious. Use file reputation sites to run the dynamic analysis

### Reference 
https://bazaar.abuse.ch/
